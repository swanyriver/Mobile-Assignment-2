{% macro playlistsStyle() -%}
    <style>
        .snippetEmbed {
            float: left;
            height: 300px;
            width: 400px;
        }

        .snippetPanel {
            width: 900px;
        }

        .panel-heading * {
            margin-left: 10px;
        }

        .checkedForRemoval {
            border: thick dashed indianred;
        }
    </style>
{%- endmacro %}

{% macro deleteCheck(index) -%}
    <div class="btn btn-danger pull-left removeButton">
        <input class="removeSnippetCheck" type="checkbox" name="snippetIndex" value="{{ index }}">
        <span class="glyphicon glyphicon-trash"></span>
        Remove Snippet from List
    </div>
{%- endmacro %}

{% macro youtubeThumbnail(videoId, num) -%}
    <img class="preview_thumbnail" src="http://img.youtube.com/vi/{{ videoId }}/{{ num }}.jpg">
{%- endmacro %}


{% macro youtubeEmbed(snpt) -%}
    <iframe
            class="snippetEmbed"
            src="https://www.youtube.com/embed/{{ snpt.videoID }}?start={{ snpt.startTime }}&end={{ snpt.endTime }}&version=3"
            frameborder="0"></iframe>
{%- endmacro %}


{% macro snippet(snpt, editable, delete, index) -%}
    <div class="panel panel-default snippetPanel">
        <div class="panel-heading">
            {% if delete %} {{ deleteCheck(index) }} {% endif %}
            <h3 class="panel-title snippet-title pull-left">
                <span>{{ snpt.title }}</span>
            </h3>
            <div class="panel-title time-range pull-right">
                End-Time:{{ snpt.endTime }}
            </div>
            <div class="panel-title time-range pull-right">
                Start-Time:{{ snpt.startTime }}
            </div>
            <div class="clearfix"></div>
        </div>
        <div class="panel-body">
            {{ youtubeEmbed(snpt) }}
            <div class="snippetNotes">{% if snpt.notes %}{{ snpt.notes }}{% endif %}</div>
        </div>
    </div>
{%- endmacro %}

{% macro playlist(p, editable=false, delete=false) -%}
    <div class="playlist">
        {% for s in p.snippets %}
            {{ snippet(s, editable, delete, loop.index0) }}
        {% endfor %}
    </div>
{%- endmacro  %}
{#<a href="/testData/playlist/?{{ p.keyForLink() }}">#}

{% macro playlist_preview(p) -%}
    <div class="playlist_preview">
        <a href="/view/?{{ p.keyForLink() }}">
            <div class="panel panel-default playlist_preview_panel">
                <div class="panel-heading">
                    <div class="panel-title pull-left">
                        {{ p.title }}
                    </div>
                    <div class="panel-title creator pull-right">
                        {{ p.creator }}
                    </div>
                    <div class="clearfix"></div>
                </div>
                <div class="panel-body">
                    {% for snpt in p.snippets %}
                        {{ youtubeThumbnail(snpt.videoID, snpt.selectedThumbnail) }}
                    {% endfor %}
                </div>
            </div>
        </a>
    </div>
{%- endmacro %}